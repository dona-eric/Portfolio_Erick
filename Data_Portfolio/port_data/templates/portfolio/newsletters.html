{% extends 'portfolio/base.html' %}
{% load static %}
{% block content %}
<section class="newsletter-section">
    <div class="newsletter-container">
        <h2 class="newsletter-title">Newsletter</h2>
        <p class="newsletter-description">Restez informé de nos dernières actualités et mises à jour</p>

        <form method="POST" class="space-y-6">
            {% csrf_token %}
            <div class="form-group">
                <label for="{{ form.nom.id_for_label }}" class="form-label">Name</label>
                {{ form.nom }}
                {% if form.nom.errors %}
                    <p class="mt-2 text-sm text-red-600">
                        {{ form.nom.errors|join:", " }}
                    </p>
                {% endif %}
            </div>

            <div class="form-group">
                <label for="{{ form.prenom.id_for_label }}" class="form-label">Surname</label>
                {{ form.prenom }}
                {% if form.prenom.errors %}
                    <p class="mt-2 text-sm text-red-600">
                        {{ form.prenom.errors|join:", " }}
                    </p>
                {% endif %}
            </div>

            <div class="form-group">
                <label for="{{ form.email.id_for_label }}" class="form-label">Email</label>
                {{ form.email }}
                {% if form.email.errors %}
                    <p class="mt-2 text-sm text-red-600">
                        {{ form.email.errors|join:", " }}
                    </p>
                {% endif %}
            </div>

            <div class="checkbox-group">
                <input id="terms" name="terms" type="checkbox" required class="h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded">
                <label for="terms" class="checkbox-label">J'accepte de recevoir des emails</label>
            </div>

            <div>
                <button type="submit" class="submit-btn">
                    S'abonner à la newsletter ✨
                </button>
            </div>
        </form>

        {% if messages %}
        <div class="alert-container">
            {% for message in messages %}
                <div class="alert {% if message.tags == 'success' %}alert-success{% elif message.tags == 'error' %}alert-danger{% else %}alert-info{% endif %}">
                    {{ message }}
                </div>
            {% endfor %}
        </div>
        {% endif %}

        {% if form.errors %}
            <div class="alert alert-danger">
                <strong>Erreur !</strong> Veuillez corriger les erreurs ci-dessous.
            </div>
        {% endif %}

        <div class="terms-links">
            <p>En vous inscrivant, vous acceptez notre</p>
            <div>
                <a href="#" class="text-indigo-600 hover:text-indigo-500">
                    Politique de confidentialité
                </a>
                <span class="mx-2">et</span>
                <a href="#" class="text-indigo-600 hover:text-indigo-500">
                    Conditions d'utilisation
                </a>
            </div>
        </div>
    </div>
</section>

<script src="{% static 'js/news.js' %}"></script>

{% endblock %}